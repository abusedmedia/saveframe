<!doctype html>
<html>
    
    <head>
        <script src="node_modules/jquery/dist/jquery.min.js"></script>
        <script src="node_modules/socket.io-client/dist/socket.io.js"></script>

        <script type="text/javascript" src="client.js"></script>
        <style>
            body{
                background-color: #ccc;
                padding: 0;
                margin: 0;
                overflow: hidden;
            }
        </style>
    </head>


    <body>
        <canvas id="canvas"></canvas>
                
        <script type="text/javascript">

        var w = $(document).width()
        var h = $(document).height()

        var canvas = document.querySelector('canvas')
        canvas.width = w
        canvas.height = h

        SaveFrame.init(canvas)

        var ctx = canvas.getContext('2d')

        var running = true
        var x = 0
        function rc () {
          if (!running) return

          ctx.clearRect(0, 0, w, h)
          ctx.fillStyle = '#f00'
          ctx.fillRect(0, 0, w, h)

          ctx.fillStyle = '#fff'
          ctx.fillRect(x, h / 2, 20, 20)
          x++

          SaveFrame.save()

          if (x > w) {
            running = false
          }
        }

          setInterval(rc, 1000 / 60)


        </script>
    </body>

</html>